function movePlayer() {
    document.addEventListener("keydown", function (event) {
        let key = event.key;
        if (key === "a" || key === "A") {
            moveLeft()
            dontLeave()
        }
        if (key === "d" || key === "D") {
            moveRight()
            dontLeave()
        }

        if (key === "w" || key === "W") {
            jump()
        }
    });

}

function moveLeft() {
    player.startX -= player.speed
}

function moveRight() {
    player.startX += player.speed
}

let hopp = null

let jumping = false;

function jump() {
    if (!jumping) {
        jumping = true;
        player.yVelocity = player.yStartVelocity;
        requestAnimationFrame(playerJump);
    }
}

function playerJump() {
    player.startY -= player.yVelocity;
    player.yVelocity += gravity;

    if (player.startY + 50 > player.yLimit) {
        player.startY = player.yLimit - 50;
        jumping = false;
    } else {
        requestAnimationFrame(playerJump);
    }
}







let keys = {};

window.addEventListener('keydown', function(e) {
    keys[e.keyCode] = true;
});

window.addEventListener('keyup', function(e) {
    delete keys[e.keyCode];
});

const player = {
    x: 950,
    y: 540,

    width: 50,
    height: 50,

    speed: 7,

    yVelocity: 0,
    yStartVelocity: 10,

    yLimit: 590,

    jumping: false
}

function drawPlayer() {
    ctx.fillStyle = "rgb(200 200 200)"
    ctx.fillRect(player.x, player.y, player.width, player.height)
}

function updatePlayer() {
    if (keys[37] || keys[65]) { // A or Left Arrow
        player.x -= player.speed;
    }

    if (keys[39] || keys[68]) { // D or Right Arrow
        player.x += player.speed;
    }

    if (keys[32] || keys[38]) { // Space or Up Arrow
        if (!player.jumping) {
            player.yVelocity = -player.yStartVelocity;
            player.jumping = true;
        }
    }

    player.yVelocity += 1; // Gravity
    player.y += player.yVelocity;

    if (player.y > player.yLimit) {
        player.y = player.yLimit;
        player.yVelocity = 0;
        player.jumping = false;
    }
}




